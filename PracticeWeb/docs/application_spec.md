# 簡易SNS アプリケーション仕様書

## 📋 概要

LT発表用簡易SNSアプリケーションの機能仕様とアーキテクチャ設計書です。

## 🎯 アプリケーション目的

- **LT発表での技術デモ**: AI活用開発の実例紹介
- **学習リソース**: モダンWeb開発のベストプラクティス
- **プロトタイプ**: 実用的なSNS機能の基本実装

## 🏗️ システムアーキテクチャ

### 構成概要
```
┌─────────────────┐    ┌─────────────────┐
│   Web Server    │    │   DB Server     │
│  (192.168.33.11)│    │ (192.168.33.10) │
│                 │    │                 │
│  ┌───────────┐  │    │  ┌───────────┐  │
│  │   Nginx   │  │    │  │   MySQL   │  │
│  │   (Port   │  │    │  │   8.0     │  │
│  │   8080)   │  │    │  │           │  │
│  └───────────┘  │    │  └───────────┘  │
│  ┌───────────┐  │    │                 │
│  │  PHP 8.1  │  │    │  Database:      │
│  │  PHP-FPM  │  │    │  - sns_db       │
│  └───────────┘  │    │  - users table  │
│                 │    │  - posts table  │
└─────────────────┘    └─────────────────┘
         │                       │
         └───────── Network ─────┘
              (192.168.33.0/24)
```

### ディレクトリ構造
```
PracticeWeb/
├── index.php                    # メインページ（投稿一覧・投稿フォーム）
├── pages/                       # 機能別ページディレクトリ
│   ├── auth/                    # 認証関連
│   │   ├── login.php           # ログインページ
│   │   ├── register.php        # ユーザー登録ページ
│   │   └── logout.php          # ログアウト処理
│   └── user/                    # ユーザー関連
│       └── profile.php         # プロフィールページ
├── includes/                    # 共通ライブラリ
│   ├── config.php              # 設定・DB接続
│   ├── auth.php                # 認証関連関数
├── includes/                    # 共通ライブラリ
│   ├── config.php              # 設定・DB接続
│   ├── auth.php                # 認証関連関数
│   └── posts.php               # 投稿関連関数
├── css/                        # スタイルシート
│   └── style.css               # メインCSS
├── js/                         # JavaScript
│   └── main.js                 # フロントエンド機能
├── docs/                       # ドキュメント
│   ├── database_design.md      # データベース設計
│   ├── application_spec.md     # このファイル
│   ├── functions.md            # 関数仕様
│   └── security.md             # セキュリティ設計
├── info.php                    # PHP情報（開発用）
└── .htaccess                   # Apache設定（参考用）
```

## 🚀 機能仕様

### 1. ユーザー認証機能

#### 1.1 ユーザー登録
- **URL**: `/pages/auth/register.php`
- **機能**: 新規ユーザーアカウント作成
- **入力項目**:
  - ユーザー名（3-20文字、英数字とアンダースコア）
  - 表示名（1-50文字）
  - パスワード（8文字以上）
  - パスワード確認
- **バリデーション**:
  - 必須項目チェック
  - 文字数制限
  - ユーザー名重複チェック
  - パスワード強度チェック

#### 1.2 ログイン
- **URL**: `/pages/auth/login.php`
- **機能**: ユーザー認証とセッション開始
- **入力項目**:
  - ユーザー名
  - パスワード
- **セキュリティ**:
  - CSRF対策
  - パスワードハッシュ検証
  - セッション管理

#### 1.3 ログアウト
- **URL**: `/pages/auth/logout.php`
- **機能**: セッション破棄とログアウト処理

### 2. 投稿機能

#### 2.1 投稿作成
- **場所**: `index.php`内のフォーム
- **機能**: テキスト投稿の作成
- **制限**:
  - 最大1000文字
  - ログインユーザーのみ
- **セキュリティ**:
  - XSS対策（HTMLエスケープ）
  - CSRF対策

#### 2.2 投稿一覧表示
- **場所**: `index.php`
- **機能**: 全ユーザーの投稿を新しい順で表示
- **表示項目**:
  - 投稿者表示名
  - 投稿内容
  - 投稿日時
  - 相対時間表示（「○分前」「○時間前」）

### 3. プロフィール機能

#### 3.1 プロフィール表示
- **URL**: `/pages/user/profile.php`
- **機能**: ユーザー情報と投稿履歴の表示
- **表示項目**:
  - ユーザー情報（表示名、アカウント作成日）
  - 投稿数統計
  - 自分の投稿一覧

## 🎨 UI/UX 設計

### デザインコンセプト
- **シンプル**: 必要最小限の機能に集中
- **モダン**: CSS Grid/Flexboxを活用
- **レスポンシブ**: モバイルファーストデザイン
- **アクセシブル**: セマンティックHTML

### カラーパレット
- **プライマリ**: #007bff（ブルー）
- **セカンダリ**: #6c757d（グレー）
- **成功**: #28a745（グリーン）
- **警告**: #ffc107（イエロー）
- **エラー**: #dc3545（レッド）

### レスポンシブブレークポイント
- **モバイル**: 〜768px
- **タブレット**: 768px〜1024px
- **デスクトップ**: 1024px〜

## 🔄 ユーザーフロー

### 新規ユーザー登録フロー
```
1. トップページアクセス → 2. 「新規登録」クリック → 
3. 登録フォーム入力 → 4. バリデーション → 
5. アカウント作成 → 6. 自動ログイン → 7. メインページ
```

### 既存ユーザーログインフロー
```
1. トップページアクセス → 2. 「ログイン」クリック → 
3. 認証情報入力 → 4. 認証処理 → 5. メインページ
```

### 投稿フロー
```
1. メインページ → 2. 投稿フォーム入力 → 
3. 投稿ボタンクリック → 4. 投稿処理 → 5. 一覧に表示
```

## 📱 フロントエンド機能

### JavaScript機能
- **文字数カウンター**: 投稿フォームのリアルタイム文字数表示
- **相対時間表示**: 投稿日時の動的更新
- **フォームバリデーション**: クライアントサイド入力チェック
- **レスポンシブメニュー**: モバイル対応ナビゲーション

### CSS機能
- **フレキシブルレイアウト**: Flexbox/Grid活用
- **アニメーション**: ホバーエフェクト、フェードイン
- **カスタムプロパティ**: CSS変数でのテーマ管理

## 📊 パフォーマンス考慮

### 最適化項目
- **SQLクエリ**: インデックス活用、N+1問題回避
- **キャッシュ**: ブラウザキャッシュヘッダー設定
- **画像**: 将来的なWebP対応予定
- **コード**: ミニファイ、圧縮

### 監視指標
- **レスポンス時間**: 平均200ms以下目標
- **メモリ使用量**: PHP プロセス監視
- **DB接続**: コネクションプール最適化

## 🧪 テスト方針

### 手動テスト項目
- ユーザー登録・ログイン機能
- 投稿作成・表示機能
- セッション管理
- セキュリティ対策動作確認

### ブラウザテスト
- Chrome（最新版）
- Firefox（最新版）
- Safari（最新版）
- Edge（最新版）

## 🔮 将来的な拡張案

### Phase 2: 機能拡張
- いいね機能
- コメント機能
- 画像投稿機能
- ハッシュタグ機能

### Phase 3: システム拡張
- REST API化
- SPA対応（React/Vue.js）
- リアルタイム通信（WebSocket）
- マイクロサービス化

### Phase 4: インフラ拡張
- Dockerコンテナ化
- Kubernetes対応
- CI/CD パイプライン
- クラウド対応（AWS/GCP）

## 📚 技術的な学習ポイント

### 新技術者向け
- MVC的な設計パターンの理解
- セキュリティ対策の重要性
- データベース設計の基礎
- レスポンシブデザインの実装

### 経験者向け
- モダンPHP開発手法
- セキュリティベストプラクティス
- インフラ自動化
- AI活用開発手法

---

**文書バージョン**: 1.0  
**最終更新**: 2025年7月12日  
**作成者**: GitHub Copilot Assistant  
**レビュー**: 必要に応じて技術仕様を更新
